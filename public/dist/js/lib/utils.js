!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.Utils=t()}(this,function(){var e={};return e.isString=function(e){return(""===e||e)&&(e.constructor===String||"[object String]"===Object.prototype.toString.call(e))},e.isObject=function(e){return e&&(e.constructor===Object||"[object Object]"===Object.prototype.toString.call(e))},e.each=function(e,t){if(e.length)return[].forEach.call(e,t);if(this.isObject(e))for(var n in e)if(e.hasOwnProperty(n)&&t.call(e[n],e[n],n,e)===!1)return},e.getVendorPropertyName=function(e){var t,n=document.createElement("div"),r=n.style,o=["o","ms","Moz","webkit"];if(e in r)return e;t=e.charAt(0).toUpperCase()+e.substr(1);for(var i=o.length;i--;){var a=o[i],s=a+t;if(s in r)return s}},e.getStyle=function(e,t){if(e){if(t=this.getVendorPropertyName(t),"float"===t&&(t="cssFloat"),e.style[t])return e.style[t];if(window.getComputedStyle)return window.getComputedStyle(e,null)[t];if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/[\/A-Z]/g,"-$1"),t=t.toLowerCase();var n=document.defaultView.getComputedStyle(e,"");return n&&n.getPropertyValue(t)}return e.currentStyle?e.currentStyle[t]:void 0}},e.setStyle=function(e,t,n){var r=this;if(e.length)return void this.each(e,function(e){r.setStyle(e,t,n)});if(this.isObject(t)){var o=document.createElement("div").style,i="";for(var a in t)i=a,a=r.getVendorPropertyName(a),a in o&&(e.style[a]=t[i])}else this.isString(t)&&(t=this.getVendorPropertyName(t),e.style[t]=n)},e.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},e.getEvent=function(e){return window.event||event},e.getTarget=function(e){return event.target||event.srcElement},e.delegateEvent=function(e,t,n,r){var o=this;this.addEvent(e,n,function(e){var n=o.getEvent(e),i=o.getTarget(e);i&&i.tagName===t.toUpperCase()&&r.call(i,n)})},e.parseJson=function(e){try{if("string"!=typeof e||!e)return null;if(e=e.trim(),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return window.JSON&&window.JSON.parse?window.JSON.parse(e):new Function("return "+e)();FS.error("Invalid JSON: "+e)}catch(t){FS.error("FS.parseJson方法出现异常："+t)}},e.ajax=function(t){var n=t.async||!0,r=null!=t.method?t.method.toUpperCase():t.method||"GET",o=t.url,i=t.data||null,a=t.dataType,s=t.timeout||3e4,c=!1,l=!1,u=t.onTimeout||function(){},f=t.success||function(){},d=t.onError||function(){},p=t.unencode===!0;if(i=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(i),"GET"!==r&&"DELETE"!==r||null===i||(o+=-1===o.indexOf("?")?"?":"&",o+=i),-1!==o.indexOf("?")&&!p){var v,h=o.substring(o.indexOf("?")+1).split("&"),m=h.length-1,g="";for(o=o.slice(0,o.indexOf("?")+1);m>=0;m--)v=h[m].split("="),g+=encodeURIComponent(v[0])+"="+encodeURIComponent(v[1])+"&";g=g.slice(0,g.length-1),o+=g}if(window.XMLHttpRequest&&"file:"!==window.location.protocol)var y=new XMLHttpRequest;else if(window.ActiveXObject&&"file:"!==window.location.protocol)var y=new window.ActiveXObject(userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP");if(null===y)throw new Error("您的系统或浏览器不支持xhr对象");if(0===o.length)throw new Error("发送的url为空,ajax出现异常");y.onreadystatechange=function(){if(4===y.readyState){if(!c)if(y.status>=200&&y.status<300||304===y.status)if("json"==a){var n=e.parseJson(y.responseText);f(n)}else f(y.responseText);else{var r={};r.responseText=y.responseText,r.opts=t,r.status=y.status,d(r)}l=!0,y=null}},y.open(r,o,n),y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y.send(i),window.setTimeout(function(){l||(c=!0,u(t))},s)},e.serialize=function(e){var t,n,r,o,i,a,s=[],c=null;for(t=0,n=e.elements.length;n>t;t++)switch(c=e.elements[t],c.type){case"select-one":case"select-multiplle":if(c.name.length)for(r=0,o=c.options.length;o>r;r++)i=c.options[r],i.selected&&(a="",a=i.hasAttribute?i.hasAttribute("value")?i.value:i.text:i.attributes.value.specified?i.value:i.text,s.push(encodeURIComponent(c.name)+"="+encodeURIComponent(a)));break;case void 0:case"file":case"submit":case"reset":case"button":break;case"radio":case"checkbox":if(!c.checked)break;default:c.name.length&&s.push(encodeURIComponent(c.name)+"="+encodeURIComponent(c.value))}return s.join("&")},e.serializeObject=function(){var e,t,n,r,o;for(e=this.serialize(),t={},n=t.hasOwnProperty,r=0;r<e.length;r++)o=e[r],n.call(t,o.name)||(t[o.name]=o.value);return t},e.cleanWhitespace=function(e){var t,n=e.childNodes.length;for(t=0;n>t;t++){var r=e.childNodes[t];3!=r.nodeType||/\S/.test(r.nodeValue)||r.parentNode.removeChild(r)}},e.text=function(e,t){this.isString(t)&&("string"==typeof e.textContent?e.textContent=t:e.innerText=t)},e.animate=function(t,n,r,o,i){function a(){return(new Date).getTime()}var s={linear:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t}},c={},l=a();for(var u in n)c[u]=0,"opacity"==u?c[u]=Math.round(100*e.getStyle(t,u)):c[u]=parseInt(e.getStyle(t,u));clearInterval(t.timer),t.timer=setInterval(function(){var e=a(),u=1-Math.max(0,l-e+r)/r;for(var f in n){var d=s[o](u*r,c[f],n[f]-c[f],r);"opacity"==f?(t.style.filter="alpha(opacity="+d+")",t.style.opacity=d/100):t.style[f]=d+"px"}1==u&&(clearInterval(t.timer),i&&i.call(t))},13)},e});