define(["utils"],function(t){!function(e,i){"use strict";function n(t){return new n.prototype.init(t)}function r(t){t=t||e.event,t.preventDefault()}n.prototype={constructor:n,init:function(i){if(this.container=i.wrap||null,this.wrap=this.container.querySelector(".pop-wrap")||null,this.header=this.container.querySelector(".pop-header")||null,this.effect=i.effect||"top",this.speed=i.speed||".4s",!this.container||!this.wrap||!this.header)return void console.warn("HTML格式不符");var n=this,r=this.container.querySelector(".confirm"),s=this.container.querySelector(".cancel");return this.build(),r&&(r.onclick=function(){i.confirm(),n.hide()}),s&&(s.onclick=function(){i.cancel(),n.hide()}),t.addEvent(this.container,"click",function(t){t=t||e.event,t.target.className===n.container.className&&(i.cancel(),n.hide())}),this.toggle(),this},build:function(){switch(t.setStyle(this.container,{"transition-duration":this.speed,opacity:"0",filter:"alpha(opacity=0)"}),t.setStyle(this.wrap,{"transition-duration":this.speed,opacity:"0",filter:"alpha(opacity=0)"}),this.effect){case"top":t.setStyle(this.wrap,{transform:"translate(0,-25%)"});break;case"bottom":t.setStyle(this.wrap,{transform:"translate(0,25%)"});break;case"left":t.setStyle(this.wrap,{transform:"translate(-25%,0)"});break;case"right":t.setStyle(this.wrap,{transform:"translate(25%,0)"})}},show:function(){return t.setStyle(this.container,{opacity:"1",filter:"alpha(opacity=100)",display:"block"}),this.status=!0,this.width=this.wrap.clientWidth,this.height=this.wrap.clientHeight,t.setStyle(this.wrap,{transform:"translate(0,0)",opacity:"1",filter:"alpha(opacity=100)"}),e.addEventListener("mousewheel",r,!1),this},hide:function(){return t.setStyle(this.container,{display:"none",opacity:"0",filter:"alpha(opacity=0)","transition-duration":"0.3s"}),t.setStyle(this.wrap,{transform:"translate(0,-25%)",filter:"alpha(opacity=0)",opacity:"0","transition-duration":"0.3s"}),this.status=!1,e.removeEventListener("mousewheel",r,!1),this},toggle:function(){return this.status?this.hide():this.show(),this},edit:function(t){this.container.className;return t.title?this.header.querySelector("h3").innerText=t.title:null,t.content?this.wrap.querySelector(".pop-content").innerHTML=t.content:null,this}},n.prototype.init.prototype=n.prototype,e.Popuper=n}(window,document)});